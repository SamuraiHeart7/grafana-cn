<query-editor-row query-ctrl="ctrl" can-collapse="false">
	<div class="gf-form-inline">
		<div class="gf-form gf-form--grow">
			<label class="gf-form-label width-8">查询</label>
			<input type="text" class="gf-form-input" ng-model="ctrl.target.expr" spellcheck='false' placeholder="query expression" data-min-length=0 data-items=100 ng-model-onblur ng-change="ctrl.refreshMetricData()">
		</div>
		<div class="gf-form max-width-22">
			<label class="gf-form-label">查找监控项</label>
			<input type="text" class="gf-form-input" ng-model="ctrl.target.metric" spellcheck='false' bs-typeahead="ctrl.suggestMetrics" placeholder="metric name" data-min-length=0 data-items=100>
		</div>
	</div>

	<div class="gf-form-inline">
		<div class="gf-form max-width-26">
			<label class="gf-form-label width-8">横坐标group by</label>
			<input type="text" class="gf-form-input" ng-model="ctrl.target.legendFormat"
			spellcheck='false' placeholder="legend format" data-min-length=0 data-items=1000
			ng-model-onblur ng-change="ctrl.refreshMetricData()">
			</input>
		</div>
		<div class="gf-form">
			<label class="gf-form-label width-5">间隔</label>
			<input type="text" class="gf-form-input max-width-5" ng-model="ctrl.target.interval"
					   data-placement="right"
			       spellcheck='false'
			       placeholder="{{ctrl.panelCtrl.interval}}"
			       data-min-length=0 data-items=100
			       ng-model-onblur
			       ng-change="ctrl.refreshMetricData()"/>
			<info-popover mode="right-absolute">
				基于时间段和面板宽度留空自动处理
			</info-popover>
		</div>
		<div class="gf-form">
			<label class="gf-form-label">缩放比例</label>
			<div class="gf-form-select-wrapper max-width-15">
				<select ng-model="ctrl.target.intervalFactor" class="gf-form-input"
					ng-options="r.factor as r.label for r in ctrl.resolutions"
					ng-change="ctrl.refreshMetricData()">
				</select>
			</div>
			<label class="gf-form-label">
				<a href="{{ctrl.linkToPrometheus}}" target="_blank" bs-tooltip="打开Prometheus相应的Graph界面'">
					<i class="fa fa-share-square-o"></i>
				</a>
			</label>
		</div>

		<div class="gf-form gf-form--grow">
			<div class="gf-form-label gf-form-label--grow"></div>
		</div>
	</div>

</query-editor-row>
